<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>The override modifier</title>
        <link rel="stylesheet" type="text/css" href="../css/style.css" />
        <link rel="stylesheet" type="text/css" href="../css/fontjolly.css" />
        <link rel="icon" type="image/png" href="../images/favicon.png">
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">Home</a>
                <a href="../archive.html">Archives</a>
            </div>
            <div id="navigation">
                <a title="GitHub" href="https://github.com/nrinaudo"><span class="ico-social-github"></span></a>
                <a title="Twitter" href="https://twitter.com/NicolasRinaudo"><span class="ico-social-twitter"></span></a>
                <a title="Stack Overflow" href="http://stackoverflow.com/users/1370349/nicolas-rinaudo"><span class="ico-line-chart"></span></a>
            </div>
        </div>

        <div id="content">
            <h1>The override modifier</h1>
<div class="info"><span class="date">2013-08-04</span><span class="tags"><a href="../tags/scala.html" class="tag">scala</a></span></div>
<p>When implementing abstract methods in Scala, I always use the <code>override</code> modifier. I realised today that it appears not to be compulsory - in fact, decompiling the generated bytecode through <code>javap</code> yields the same result whether or not <code>override</code> was used.</p>
<p>Scala is very rarely that loose with its syntax, so I set out to understand what difference there was between the two declarations, if any.</p>
<!--more-->

<p>It seems the difference is mostly (only?) at compile time: <code>override</code> is a hint to the compiler that the method being declared is thought to override a method of the same signature in one of the parent classes.</p>
<p>For example:</p>
<pre class="sourceCode scala"><code class="sourceCode scala"><span class="kw">abstract</span> <span class="kw">class</span> Callable {
  <span class="kw">def</span> <span class="fu">call</span>(): <span class="dt">Unit</span>
<span class="dt">}</span>

<span class="dt">class</span> ConcreteCallable <span class="kw">extends</span> Callable {
  <span class="co">// Lets the compiler know that we're expecting the call method to be declared in Callable</span>
  <span class="kw">override</span> <span class="kw">def</span> <span class="fu">call</span>() {
    <span class="fu">println</span>(<span class="st">&quot;Called&quot;</span>)
  }
}

<span class="kw">class</span> ConcreteCallable2 <span class="kw">extends</span> Callable {
  <span class="co">// Doesn't give any hint to the compiler.</span>
  <span class="kw">def</span> <span class="fu">call</span>() {
    <span class="fu">println</span>(<span class="st">&quot;Called&quot;</span>)
  }
}</code></pre>
<p>This distinction matters when <code>Callable</code>’s contract change: if the <code>call</code> method were to disappear for whatever reason:</p>
<pre class="sourceCode scala"><code class="sourceCode scala"><span class="kw">abstract</span> <span class="kw">class</span> Callable {
}

<span class="co">// Fails to compile with the following message:</span>
<span class="co">// error: method call overrides nothing</span>
<span class="co">//  override def call() {</span>
<span class="kw">class</span> ConcreteCallable <span class="kw">extends</span> Callable {
  <span class="kw">override</span> <span class="kw">def</span> <span class="fu">call</span>() {
    <span class="fu">println</span>(<span class="st">&quot;Called&quot;</span>)
  }
}

<span class="co">// Compiles just fine.</span>
<span class="kw">class</span> ConcreteCallable2 <span class="kw">extends</span> Callable {
  <span class="kw">def</span> <span class="fu">call</span>() {
    <span class="fu">println</span>(<span class="st">&quot;Called&quot;</span>)
  }
}</code></pre>
<p>I find the compilation error to be the desirable behaviour: it lets me know immediately that <code>ConcreteCallable</code> isn’t doing what it thinks it’s doing anymore, and needs reviewing. The solution might sometimes be to remove the <code>override</code> keyword, but more often than not, the compilation failure will forestall a hard-to-understand bug before it even has a chance to manifest itself.</p>

        </div>
    </body>
</html>
